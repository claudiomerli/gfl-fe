<h3 mat-dialog-title>Dettaglio progetto</h3>
<div mat-dialog-content>
  <div class="alert alert-warning" role="alert" *ngIf="!data.projectContentPreviews || data.projectContentPreviews.length == 0">
    Il progetto non ha articoli inseriti
  </div>
  <div class="accordion" id="accordionExample" *ngIf="data.projectContentPreviews && data.projectContentPreviews.length > 0">
    <ng-container *ngFor="let item of data.projectContentPreviews; let i = index;">
      <div class="row">
        <div class="col-2 d-flex align-items-center" *isAuthenticated="['ADMIN']">
          <button type="button" class="btn btn-primary btn-sm m-1" title="Assegna contenuto"
                  (click)="gestisciRedazionale(item)">
            <i class="bi bi-file-earmark-text"></i> Gestisci redazionale
          </button>
        </div>
        <div class="col-10">
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading{{i}}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      [attr.data-bs-target]="'#collapse'+i" aria-expanded="false" [attr.aria-controls]="'collapse'+i">
                {{item.title}}
              </button>
            </h2>
            <div id="collapse{{i}}" class="accordion-collapse collapse" [attr.aria-labelledby]="'heading'+i"
                 data-bs-parent="#accordionExample">
              <div class="accordion-body">
                <div class="row">
                  <div class="col">
                    <div class="mb-3 input-group">
                      <label for="newspaper{{i}}" class="input-group-text">
                        <i class="bi bi-newspaper mx-auto mb-1"></i>
                      </label>
                      <input type="text" class="form-control" value="{{item.newspaper?.name}}" id="newspaper{{i}}"
                             readonly>
                    </div>
                  </div>
                  <div class="col">
                    <div class="mb-3 input-group">
                      <label class="input-group-text" for="monthUse{{i}}">
                        <i class="bi bi-calendar-month"></i>
                      </label>
                      <input type="text" class="form-control" value="{{decodeMonth(item.monthUse)}}"
                             id="monthUse{{i}}" readonly>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="mb-3">
                      <label for="anchor{{i}}" class="form-label">Link</label>
                      <div class="input-group">
                        <div class="input-group-text">
                          <i class="bi bi-link"></i>
                        </div>
                        <input type="text" class="form-control" id="anchor{{i}}" value="{{item.linkUrl}}" readonly>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="mb-3">
                      <label for="url{{i}}" class="form-label">Url</label>
                      <div class="input-group">
                        <div class="input-group-text">
                          <i class="bi bi-link-45deg"></i>
                        </div>
                        <input type="text" class="form-control" id="url{{i}}" value="{{item.linkText}}" readonly>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="mb-3">
                      <label for="title{{i}}" class="form-label">Titolo</label>
                      <div class="input-group">
                        <div class="input-group-text">
                          <i class="bi bi-fonts"></i>
                        </div>
                        <input type="text" class="form-control" id="title{{i}}" value="{{item.title}}" readonly>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="mb-3">
                      <label for="note{{i}}" class="form-label">Note del cliente</label>
                      <div class="input-group">
                        <div class="input-group-text">
                          <i class="bi bi-chat-left-text"></i>
                        </div>
                        <textarea id="note{{i}}" class="form-control" aria-label="note del cliente"
                                  value="{{item.customerNotes}}" readonly></textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
